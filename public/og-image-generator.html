<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>OG Image Generator — The AI Brief</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;600;700;900&family=Source+Serif+4:opsz,wght@8..60,400;8..60,700;8..60,900&display=swap');
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: #444; display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 100vh; padding: 40px; font-family: sans-serif; }
  canvas { box-shadow: 0 4px 30px rgba(0,0,0,0.4); }
  .actions { margin-top: 20px; }
  .actions button {
    font-size: 16px; font-weight: 700; padding: 12px 32px;
    background: #8b0000; color: #fff; border: none; border-radius: 4px; cursor: pointer;
  }
  .actions button:hover { background: #6b0000; }
  p.hint { color: #aaa; font-size: 13px; margin-top: 12px; }
</style>
</head>
<body>

<canvas id="og" width="1200" height="630"></canvas>
<div class="actions">
  <button onclick="downloadPNG()">Download og-image.png</button>
</div>
<p class="hint">Save the downloaded file to your project's <code>public/</code> folder as <code>og-image.png</code>, then push.</p>

<script>
// Wait for fonts to load before drawing
document.fonts.ready.then(function() {
  var c = document.getElementById('og');
  var ctx = c.getContext('2d');

  // Background
  ctx.fillStyle = '#fffdf8';
  ctx.fillRect(0, 0, 1200, 630);

  // Top accent bar
  ctx.fillStyle = '#8b0000';
  ctx.fillRect(0, 0, 1200, 6);

  // Bottom accent bar
  ctx.fillStyle = '#8b0000';
  ctx.fillRect(0, 624, 1200, 6);

  // Left dark panel
  ctx.fillStyle = '#1a1a1a';
  ctx.fillRect(0, 6, 380, 618);

  // --- LEFT PANEL TEXT ---

  // "The AI" + "Brief"
  ctx.fillStyle = '#fffdf8';
  ctx.font = '900 72px "Source Serif 4", Georgia, serif';
  ctx.textAlign = 'center';
  ctx.fillText('The AI', 190, 230);
  ctx.fillText('Brief', 190, 310);

  // Red accent line under logo
  ctx.fillStyle = '#8b0000';
  ctx.fillRect(70, 335, 240, 3);

  // MORNING EDITION badge
  ctx.fillStyle = '#8b0000';
  roundRect(ctx, 92, 360, 196, 28, 2);
  ctx.fill();
  ctx.fillStyle = '#fffdf8';
  ctx.font = '700 13px "Source Sans 3", sans-serif';
  ctx.letterSpacing = '2px';
  ctx.fillText('MORNING EDITION', 190, 380);

  // Date
  ctx.fillStyle = '#888';
  ctx.font = '600 16px "Source Sans 3", sans-serif';
  ctx.fillText('FEBRUARY 19, 2026', 190, 430);

  // Tagline
  ctx.fillStyle = '#666';
  ctx.font = 'italic 16px "Source Serif 4", Georgia, serif';
  ctx.fillText('What you need to know right now', 190, 560);

  // --- RIGHT PANEL ---
  ctx.textAlign = 'left';

  // TOP STORY label
  ctx.fillStyle = '#8b0000';
  ctx.font = '700 14px "Source Sans 3", sans-serif';
  ctx.letterSpacing = '3px';
  ctx.fillText("TODAY'S TOP STORY", 430, 75);

  // Rule under label
  ctx.fillStyle = '#1a1a1a';
  ctx.fillRect(430, 88, 720, 2);

  // Headline
  ctx.fillStyle = '#1a1a1a';
  ctx.font = '900 36px "Source Serif 4", Georgia, serif';
  ctx.letterSpacing = '0px';
  ctx.fillText('The Pentagon Wants AI', 430, 145);
  ctx.fillText('Without Guardrails.', 430, 190);
  ctx.fillText('Anthropic Said No.', 430, 235);

  // Subhead
  ctx.fillStyle = '#555';
  ctx.font = '400 18px "Source Serif 4", Georgia, serif';
  ctx.fillText('Three AI companies cooperated. One drew the line.', 430, 285);
  ctx.fillText('Now the Pentagon is threatening to blacklist them.', 430, 311);

  // Mini divider
  ctx.fillStyle = '#8b0000';
  ctx.fillRect(430, 341, 60, 2);

  // ALSO IN THIS EDITION
  ctx.fillStyle = '#999';
  ctx.font = '700 13px "Source Sans 3", sans-serif';
  ctx.letterSpacing = '2px';
  ctx.fillText('ALSO IN THIS EDITION', 430, 383);

  // Story teasers
  ctx.fillStyle = '#333';
  ctx.font = '600 17px "Source Sans 3", sans-serif';
  ctx.letterSpacing = '0px';

  var stories = [
    'India hosts largest-ever AI summit — $67B pledged',
    'AI safety researchers quit OpenAI, Anthropic, xAI',
    'Microsoft puts AI agents in the Windows search bar',
    'Anthropic closes $30B round at $380B valuation'
  ];

  stories.forEach(function(s, i) {
    var y = 417 + i * 40;
    ctx.fillStyle = '#333';
    ctx.fillText(s, 430, y);
    if (i < stories.length - 1) {
      ctx.fillStyle = '#e8e0d4';
      ctx.fillRect(430, y + 12, 700, 1);
    }
  });

  // Bottom rule
  ctx.fillStyle = '#d4c9b8';
  ctx.fillRect(430, 580, 720, 1);

  // URL
  ctx.fillStyle = '#999';
  ctx.font = '600 14px "Source Sans 3", sans-serif';
  ctx.letterSpacing = '1px';
  ctx.fillText('THE-AI-BRIEF-LILAC.VERCEL.APP', 430, 608);
});

function roundRect(ctx, x, y, w, h, r) {
  ctx.beginPath();
  ctx.moveTo(x + r, y);
  ctx.lineTo(x + w - r, y);
  ctx.quadraticCurveTo(x + w, y, x + w, y + r);
  ctx.lineTo(x + w, y + h - r);
  ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
  ctx.lineTo(x + r, y + h);
  ctx.quadraticCurveTo(x, y + h, x, y + h - r);
  ctx.lineTo(x, y + r);
  ctx.quadraticCurveTo(x, y, x + r, y);
  ctx.closePath();
}

function downloadPNG() {
  var c = document.getElementById('og');
  var link = document.createElement('a');
  link.download = 'og-image.png';
  link.href = c.toDataURL('image/png');
  link.click();
}
</script>
</body>
</html>
